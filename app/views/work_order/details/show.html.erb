<div class="container-fluid px-4 py-4">
  <%= render 'shared/breadcrumb', breadcrumbs: [
    ['Work Order', '#'],
    ['Work Order Details', work_order_details_path],
    ['View Work Order', nil]
  ] %>
  <div class="card shadow-sm">
    <div class="card-header bg-success text-white">
      <h5 class="mb-0">Work Order Details</h5>
    </div>
    <div class="card-body">
      <dl class="row">
        <dt class="col-sm-3">Block:</dt>
        <dd class="col-sm-9"><%= @work_order.block.block_number %></dd>
        <dt class="col-sm-3">Work Order Rate:</dt>
        <dd class="col-sm-9"><%= @work_order.work_order_rate.work_order_name %></dd>
        <dt class="col-sm-3">Start Date:</dt>
        <dd class="col-sm-9"><%= @work_order.start_date %></dd>
        <dt class="col-sm-3">Status:</dt>
        <dd class="col-sm-9">
          <% badge_class = case @work_order.work_order_status
            when 'ongoing' then 'bg-info'
            when 'pending' then 'bg-warning'
            when 'amendment_required' then 'bg-danger'
            when 'completed' then 'bg-success'
            else 'bg-secondary'
          end %>
          <span class="badge <%= badge_class %>"><%= @work_order.work_order_status&.humanize %></span>
        </dd>
        <dt class="col-sm-3">Field Conductor:</dt>
        <dd class="col-sm-9"><%= @work_order.field_conductor_name || '-' %></dd>
      </dl>
      <div class="mt-3">
        <% if @work_order.work_order_status.in?(%w[ongoing amendment_required]) %>
          <%= link_to edit_work_order_detail_path(@work_order), class: "btn btn-warning" do %>
            <i class="bi bi-pencil"></i> Edit
          <% end %>
        <% end %>
        <%= link_to work_order_details_path, class: "btn btn-secondary" do %>
          <i class="bi bi-arrow-left"></i> Back
        <% end %>
        <%= link_to work_order_detail_path(@work_order), method: :delete, data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, class: "btn btn-danger" do %>
          <i class="bi bi-trash"></i> Delete
        <% end %>
      </div>
    </div>
  </div>
</div>
